{% extends 'base.html.twig' %}

{% block title %}Gestion des le√ßons{% endblock %}

{% block body %}
<div class="container mt-4">
    <h1>üìñ Gestion des Le√ßons</h1>

    <a href="{{ path('admin_lecon_create') }}" class="btn btn-success mb-3">‚ûï Ajouter une le√ßon</a>

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Titre</th>
                <th>Cursus</th>
                <th>Cr√©√©e le</th>
                <th>Valid√©e</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for lecon in lecons %}
                <tr>
                    <td>{{ lecon.id }}</td>
                    <td>{{ lecon.titre }}</td>
                    <td>{{ lecon.cursus.nom }}</td>
                    <td>{{ lecon.createdAt|date('d/m/Y') }}</td>
                    <td>
                        {% if lecon.isValidated %}
                            ‚úÖ
                        {% else %}
                            ‚ùå
                        {% endif %}
                    </td>
                    <td>
                        <a href="{{ path('admin_lecon_edit', { id: lecon.id }) }}" class="btn btn-sm btn-primary">‚úèÔ∏è Modifier</a>
                        <a href="{{ path('admin_lecon_delete', { id: lecon.id }) }}"
                           class="btn btn-sm btn-danger"
                           onclick="return confirm('Confirmer la suppression ?');">üóë Supprimer</a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="6">Aucune le√ßon disponible.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
